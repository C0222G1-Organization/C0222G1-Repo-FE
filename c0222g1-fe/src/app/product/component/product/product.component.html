<body>
<h2 class="text-center text-title text-white my-2" style="font-size: 2.2rem">DANH SÁCH DỊCH VỤ</h2>
<div class="container mt-4">
  <div class="d-flex justify-content-center row">
    <div class="col-10">
      <div class="d-flex justify-content-between w-100">
        <div class="w-50 d-flex px-0">
          <input type="text" class="input-search form-control w-50" [(ngModel)]="name"
                 placeholder=" Nhập tên dịch vụ " (keydown.enter)="search()">
          <button type = "button" class="btn btn-outline-secondary mx-4" (click)="search()">Tìm kiếm</button>
        </div>
        <div class="d-flex ">
          <div class="form-group mx-5 box">
            <input style="float: right" type="checkbox" id="html" [checked]="isAllCheckBoxChecked()"
                   (change)="checkAllCheckBox($event)">
            <label class="box" for="html" style="color: #cbc6c6; font-size: 1.1rem; text-align: center">
              <span class="label-custom" style="justify-content: center"> Chọn tất cả</span>
            </label>
          </div>
          <div>
            <button class="btn btn-outline-secondary"
                    data-bs-toggle="modal" data-bs-target="#form-create" style="float: right">Thêm mới
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <div class="col-md-1"></div>
    <div class="col-md-10">
      <div class="row">
        <div class="col-md-6 col-lg-6 col-xl-4 col-xxl-3"
             *ngFor="let product of productList | paginate: { itemsPerPage: 4, currentPage: page + 1, totalItems: totalElements }, let i = index">
          <div *ngIf="totalElements > 0">
            <div class="card w-90 bg-card mt-5">
              <img src="{{product.imageUrl}}" class="card-img-top" alt="...">
              <div class="card-body">
                <h4>{{product.nameProduct}}</h4>
                <span class="card-detail-badge" style="font-size: 16px">{{product.prices}}<sup>vnd</sup></span>
                <button class="btn btn-outline-secondary" style="float: right;"
                        (click)="valueOfDelete(product.nameProduct, product.id)"
                        data-bs-toggle="modal"
                        data-bs-target="#deleteModal"><i style=" font-size: 1rem"
                                                         class="fa-solid fa-trash"></i>
                </button>
                <button class="btn btn-outline-secondary" style="margin-left: 45px">
                  <i style=" font-size: 1rem" class="fa-solid fa-pencil"></i>
                </button>
                <div *ngIf="product.quantity <= 5">
                  <span class="card-notify-year-custom">x{{product.quantity}}</span>
                </div>
                <div *ngIf="product.quantity > 5">
                  <span class="card-notify-year">x{{product.quantity}}</span>
                </div>
                <div>
                  <input class="card-notify-year-checkbox" type="checkbox" value="{{product.id}}"
                         [(ngModel)]="productList[i].checked">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <br>
      <div *ngIf="productList.length !== 0">
        <div style="float: right">
          <button class="btn btn-outline-secondary" data-bs-toggle="modal"
                  data-bs-target="#deleteAll">Delete Selected Product
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-1"></div>
</div>
<br>
<div class="container">
  <div class="col-md-1"></div>
  <div class="col-md-10 d-flex">
    <div class="col-md-4"></div>
    <div class="col-md-4">
      <div *ngIf="productList.length !== 0">
        <div>
        <pagination-controls nextLabel="Trang kế" previousLabel="Trang trước" (pageChange)="getPage($event)" style="float: right">

        </pagination-controls>
        </div>
      </div>
    </div>
    <div class="col-md-4"></div>
  </div>
  <div class="col-md-1"></div>
</div>

<div class="modal" id="deleteModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <p style="text-align: center; font-size: 1.5rem" class="modal-title w-100 text-center" id="name">Xóa
          dịch vụ</p>
      </div>
      <p style="text-align: center; font-size: 20px">Bạn có muốn xóa dịch vụ <span
        style="color: orangered">{{nameProduct}}</span> không?</p>
      <div class="modal-footer">
        <button type="button" class="btn btn-dark " data-bs-dismiss="modal">Đóng</button>
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal" (click)="delete()">
          Xóa
        </button>
      </div>
    </div>
  </div>
</div>

<div class="modal" id="deleteAll">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <p style="text-align: center; font-size: 1.5rem" class="modal-title w-100 text-center">Xóa
          dịch vụ</p>
      </div>
      <p style="text-align: center; font-size: 20px">Bạn có muốn xóa dịch vụ không?
      </p>
      <div class="modal-footer">
        <button type="button" class="btn btn-dark " data-bs-dismiss="modal">Đóng</button>
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal" (click)="deleteProductList()">
          Xóa
        </button>
      </div>
    </div>
  </div>
</div>

</body>
